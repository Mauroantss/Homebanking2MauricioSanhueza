<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accounts | MindhubBanking</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/web/Css/Cuentascliente.css">

</head>

<body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary" style="background-color: #e3f2fd;">
        <div class="container-fluid">
          <a class="navbar-brand" href="/web/index.html">Home banking</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarScroll"
            aria-controls="navbarScroll" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarScroll">
            <ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll" style="--bs-scroll-height: 100px;">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="/web/Index.html">Home</a>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Client
                </a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="#">Accounts</a></li>
                  <li><a class="dropdown-item" href="/web/pages/account.html">Transactions</a></li>
                  <li><a class="dropdown-item" href="/web/pages/card.html">Cards</a></li>
                  <li><a class="dropdown-item" href="/web/pages/transfers.html">Transfers</a></li>
                  <li><a class="dropdown-item" href="/web/pages/loan-application.html">Loan</a></li>
              </ul>
              </li>
            </ul>
            <ul class="navbar-nav ms-auto my-2 my-lg-0">
              <li class="nav-item">
                <a @click="logOut" class="nav-link" href="../index.html">
                  <i class="bi bi-box-arrow-right"></i>
                  Logout
                </a>
              </li>
            </ul>
          </div>
      </nav>
    <div id="create-client-app" class="container mt-5">
        <main class="min-vh-100 bg-light">
            <div class="container">
                <h2 class="text-center">Welcome, {{ client.firstName + " " + client.lastName }}!</h2>
                <div class="mt-4 row">
                    <div class="col-md-6">
                        <h3 class="text-center">Accounts</h3>
                        <!-- Condición para mostrar el botón solo si el cliente tiene menos de 3 cuentas -->
                        <button v-if='client.accounts.length < 3' @click="createAccount" href="/web/pages/create-card.html" class="btn btn-success">Create</button>
                        <div v-for="account of client.accounts" :key="account.id" class="card mb-3 dashboard credit-card-style">
                            <div class="card-body text-center">
                                <h5 class="card-title">Account Number: #{{ account.number }}</h5>
                                <p class="card-text">Date Creation: {{ account.creationDate }}</p>
                                <p class="card-text">Account Balance: ${{ account.balance.toLocaleString() }}</p>
                                <a :href="'./account.html?id=' + account.id" class="btn btn-primary">See transaction</a>
                                <a :href="'./card.html?id=' + account.id" class="btn btn-primary">See card</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <h4 class="text-center">Loans</h4>
                        <button><a class="btn btn-success" href="/web/pages/loan-application.html">Request Loan</a></button>
                        <div v-for="loan of client.loans" :key="loan.id" class="card mb-3 dashboard credit-card-style">
                            <div class="card-body text-center">
                                <h5 class="card-title">Loan Type: {{ loan.loanName }}</h5>
                                <p class="card-text">Loan Amount: ${{ loan.amount.toLocaleString() }}</p>
                                <p class="card-text">Payments: {{ loan.payments }}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    



    <footer class="fixed-bottom">
        <nav class="navbar" style="background-color: #e3f2fd;">
            <div class="container-fluid">
                <a href="https://www.tiktok.com/es/"><i class="bi bi-tiktok"></i></a>
                <a href="https://web.facebook.com/?locale=es_LA&_rdc=1&_rdr"><i class="bi bi-facebook"></i></a>
                <a href="https://www.messenger.com/?locale=es_ES"><i class="bi bi-messenger"></i></a>
                <a href="https://web.telegram.org/a/"><i class="bi bi-telegram"></i></a>
                <a href="https://www.instagram.com/"><i class="bi bi-instagram"></i></a>
                <a href="https://web.whatsapp.com/"><i class="bi bi-whatsapp"></i></a>
            </div>
        </nav>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@3/dist/vue.global.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script type="module" src="/web/Js/accounts.js"></script>
</body>

</html>